{"version":3,"sources":["config.js","share/utils.js","assets/img/camera-solid.svg","components/no-image/no-image.component.js","components/card/course-card.component.js","store/actions/courses.action.js","assets/img/undraw_server_down_s4lk.svg","context/home.context.js","components/courses/courses.component.js","components/main-section/main-section.component.js","assets/img/search-solid.svg","components/search-courses/search-courses.component.js","components/nav/nav.component.js","assets/img/backgroud.jpg","components/header/jumbotron.component.js","components/home/home.component.js","store/reducers/courses.reducer.js","components/spinner/spinner.component.js","assets/img/play-circle-solid.svg","components/course-content/accordion-item-course.component.js","components/lesson/lesson.component.js","assets/img/219px-Definition_of_Free_Cultural_Works_logo_notext.svg.png","components/footer/footer.component.js","App.js","reportWebVitals.js","store/reducers/index.js","store/index.js","index.js"],"names":["console","log","process","config","NODE_ENV","API_URL","http","params","fetch","apply","this","sortNodesByName","a","b","name","split","padStart","useQuery","URLSearchParams","useLocation","search","childrenSorted","nodes","filter","n","sort","map","Array","isArray","children","setStorage","key","value","localStorage","setItem","JSON","stringify","NoImage","className","src","imageNotFound","alt","CourseCard","nodeId","type","accountId","courseInfo","loading","picture","description","history","useHistory","sorted","firstFilePath","firstLesson","path","length","first","onClick","push","COURSES_TYPES","loadCourses","courses","payload","HomeContext","createContext","HomeProvider","useState","useSelector","state","setCourses","Provider","Courses","context","useContext","error","setError","setLoading","dispatch","useDispatch","useEffect","json","response","coursesRandom","Math","round","random","getCourses","id","data-aos","course","uuid","serverDown","style","width","margin","MainSection","SearchCourses","homeContext","onSubmit","e","preventDefault","toSearch","target","trim","toLowerCase","c","indexOf","searchSvg","Nav","title","subtitle","to","Jumbotron","backgroundImage","Home","initialState","fill","Spinner","active","AccordionItemCourse","expanded","idAccordion","pathCourse","setActive","query","isLessonActive","get","slice","join","data-bs-toggle","data-bs-target","aria-expanded","aria-controls","aria-labelledby","data-bs-parent","play","handleActive","Lesson","video","setVideo","find","contentLoading","currentCourseSession","window","scrollTo","getVideo","getNodePath","concat","allowFullScreen","frameBorder","height","opacity","onLoad","i","Footer","openCulture","App","coursesCache","parse","getItem","basename","exact","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","action","store","createStore","compose","applyMiddleware","thunk","__REDUX_DEVTOOLS_EXTENSION__","f","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7f2a9be1.chunk.js","sourcesContent":["console.log(process.env);\r\n\r\nconst development = {\r\n    API_URL: 'http://localhost:3001/'\r\n};\r\n\r\nconst production = {\r\n    API_URL: 'https://learning-community-web.herokuapp.com/'\r\n};\r\n\r\nexport const config = process?.env?.NODE_ENV === 'production' ? production : development;\r\n","import {useLocation} from 'react-router-dom';\r\nimport {config} from \"../config\";\r\n\r\nexport function http(...params) {\r\n    params[0] = config.API_URL + params[0];\r\n    return fetch.apply(this, params);\r\n}\r\n\r\nexport function sortNodesByName(a, b) {\r\n    const\r\n        A = a.name.split('.')[0].padStart(4, '0'),\r\n        B = b.name.split('.')[0].padStart(4, '0');\r\n    return A > B ? 1 : -1;\r\n}\r\n\r\nexport function useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport const childrenSorted = (nodes) => {\r\n    return nodes\r\n        .filter(n => n.name !== 'data.json')\r\n        .sort(sortNodesByName)\r\n        .map(n => {\r\n            if (Array.isArray(n.children)) n.children = childrenSorted(n.children);\r\n            return n;\r\n        })\r\n};\r\n\r\nexport function setStorage(key, value) {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n}\r\n\r\nexport function getStorage(key) {\r\n    return JSON.parse(localStorage.getItem(key));\r\n}\r\n","export default __webpack_public_path__ + \"static/media/camera-solid.f79d7868.svg\";","import React from 'react';\r\nimport './no-image.component.css';\r\nimport imageNotFound from '../../assets/img/camera-solid.svg'\r\n\r\nexport function NoImage() {\r\n    return (\r\n        <div className=\"no-image-found\">\r\n            <img src={imageNotFound} alt=\"no image\"/>\r\n            No image found\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport './card.component.css';\r\nimport {childrenSorted} from \"../../share/utils\";\r\nimport {NoImage} from \"../no-image/no-image.component\";\r\n\r\nexport function CourseCard({name, nodeId, type, children, accountId, courseInfo = {}, loading}) {\r\n    const {picture, description} = courseInfo;\r\n    const history = useHistory();\r\n\r\n    const firstLesson = (nodes, path = '') => {\r\n        if (Array.isArray(nodes) && nodes.length) {\r\n            const first = nodes[0];\r\n            path += `/${first.nodeId}`;\r\n            if (Array.isArray(first.children)) {\r\n                return firstLesson(first.children, path)\r\n            } else {\r\n                return path;\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n\r\n    const sorted = childrenSorted(children);\r\n\r\n    const firstFilePath = `${accountId}/${nodeId}${firstLesson(sorted)}`;\r\n\r\n    const openCourse = () => {\r\n        if (!nodeId) return null;\r\n        history.push(`/lesson?a=${firstFilePath}`)\r\n    };\r\n\r\n    return (\r\n        <div className={'my-card' + (loading ? ' loading' : '')} onClick={openCourse}>\r\n            <div className=\"my-card-header\">\r\n                {!loading ? picture ? <img src={`data:image/jpg;base64, ${picture}`} alt={name}/> : <NoImage/> : null}\r\n            </div>\r\n            <div className=\"my-card-body\">\r\n                <div className=\"title\">{name}</div>\r\n                <div className=\"subtitle\">{description}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const COURSES_TYPES = {\r\n    LOAD: '[COURSES] Load'\r\n};\r\n\r\nexport function loadCourses(courses) {\r\n    return {\r\n        type: COURSES_TYPES.LOAD,\r\n        payload: courses\r\n    }\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/undraw_server_down_s4lk.43dea224.svg\";","import React, {createContext, useState} from 'react';\r\nimport {useSelector} from \"react-redux\";\r\n\r\nexport const HomeContext = createContext(null);\r\n\r\nexport function HomeProvider({children}) {\r\n    const [courses, setCourses] = useState(useSelector(state => state.courses));\r\n    return (\r\n        <HomeContext.Provider value={{courses, setCourses}}>{children}</HomeContext.Provider>\r\n    )\r\n}\r\n","import React, {useContext, useEffect, useState} from 'react';\r\nimport {CourseCard} from \"../card/course-card.component\";\r\nimport {http} from '../../share/utils';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {loadCourses} from \"../../store/actions/courses.action\";\r\nimport serverDown from '../../assets/img/undraw_server_down_s4lk.svg';\r\nimport {v4 as uuid} from 'uuid';\r\nimport {HomeContext} from \"../../context/home.context\";\r\n\r\nexport function Courses() {\r\n\r\n    const context = useContext(HomeContext);\r\n    const {courses, setCourses} = context;\r\n    const [error, setError] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        async function getCourses() {\r\n            try {\r\n                const fetch = await http('courses');\r\n                const {response} = await fetch.json();\r\n                const coursesRandom = response.sort(() => Math.round(Math.random() * 10) > 5 ? -1 : 1);\r\n                dispatch(loadCourses(coursesRandom));\r\n                setCourses(coursesRandom);\r\n                setLoading(false);\r\n            } catch (e) {\r\n                setError(true);\r\n            }\r\n        }\r\n\r\n        getCourses();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <section id=\"services\" className=\"services\">\r\n                <div className=\"container\">\r\n\r\n                    <div className=\"section-title\" data-aos=\"fade-up\">\r\n                        <h2>What learn now</h2>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        {\r\n                            !error && courses.map(\r\n                                course => (\r\n                                    <div key={uuid()}\r\n                                         className=\"col-xl-3 col-lg-4 col-md-6 d-flex align-items-stretch\">\r\n                                        <CourseCard {...course} loading={loading}/>\r\n                                    </div>\r\n                                ))\r\n                        }\r\n                        {\r\n                            error ?\r\n                                <img src={serverDown} style={{width: '22rem', margin: '0 auto'}} alt=\"server down\"/>\r\n                                : null\r\n                        }\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </section>\r\n\r\n            {/*<Paginator/>*/}\r\n        </>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport './main-section.component.css';\r\nimport {Courses} from \"../courses/courses.component\";\r\n\r\nexport function MainSection() {\r\n    return (\r\n        <main>\r\n            <Courses/>\r\n        </main>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/search-solid.a8b7c5d7.svg\";","import React, {useContext} from 'react';\r\nimport {HomeContext} from \"../../context/home.context\";\r\nimport {useSelector} from \"react-redux\";\r\nimport searchSvg from '../../assets/img/search-solid.svg';\r\n\r\nexport function SearchCourses() {\r\n\r\n    const homeContext = useContext(HomeContext);\r\n    const courses = useSelector(state => state.courses);\r\n    const {setCourses} = homeContext;\r\n\r\n    function search(e) {\r\n        e.preventDefault();\r\n        const toSearch = e.target[0]?.value?.trim().toLowerCase();\r\n        setCourses(courses.filter(c => c.name.toLowerCase().indexOf(toSearch) > -1))\r\n    }\r\n\r\n    return (\r\n        <div className=\"blog search-container\">\r\n            <div className=\"sidebar\">\r\n                <div className=\"sidebar-item search-form\">\r\n                    <form onSubmit={search}>\r\n                        <input name=\"inputText\" type=\"text\"/>\r\n                        <button type=\"submit\">\r\n                            <img src={searchSvg} alt=\"search\" style={{width: '14px'}}/>\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport './nav.component.css';\r\nimport {SearchCourses} from \"../search-courses/search-courses.component\";\r\n\r\nexport function Nav({title = 'LC', subtitle}) {\r\n    return (\r\n        <header id=\"header\">\r\n            <div className=\"container d-flex justify-content-between\">\r\n\r\n                <div className=\"logo\" style={{width: subtitle ? '50%' : null}}>\r\n                    <h1 className=\"text-light\"><Link to=\"/\"><span>{title}</span></Link></h1>\r\n                    {\r\n                        subtitle ?\r\n                            (<>\r\n                                <hr/>\r\n                                <span>{subtitle}</span>\r\n                            </>)\r\n                            : null\r\n                    }\r\n                </div>\r\n                {\r\n                    subtitle ? null : <SearchCourses/>\r\n                }\r\n\r\n                <nav className=\"nav-menu d-lg-block\">\r\n                    <ul>\r\n                        <li className=\"\"><Link to=\"/\">Home</Link></li>\r\n\r\n                        {/*<li className=\"drop-down\"><a href=\"#\">About</a>*/}\r\n                        {/*    <ul>*/}\r\n                        {/*        <li><a href=\"about.html\">About Us</a></li>*/}\r\n                        {/*        <li><a href=\"team.html\">Team</a></li>*/}\r\n\r\n                        {/*        <li className=\"drop-down\"><a href=\"#\">Drop Down 2</a>*/}\r\n                        {/*            <ul>*/}\r\n                        {/*                <li><a href=\"#\">Deep Drop Down 1</a></li>*/}\r\n                        {/*                <li><a href=\"#\">Deep Drop Down 2</a></li>*/}\r\n                        {/*                <li><a href=\"#\">Deep Drop Down 3</a></li>*/}\r\n                        {/*                <li><a href=\"#\">Deep Drop Down 4</a></li>*/}\r\n                        {/*                <li><a href=\"#\">Deep Drop Down 5</a></li>*/}\r\n                        {/*            </ul>*/}\r\n                        {/*        </li>*/}\r\n                        {/*    </ul>*/}\r\n                        {/*</li>*/}\r\n\r\n                        {/*<li><a href=\"#\">Services</a></li>*/}\r\n                        {/*<li><a href=\"#\">Portfolio</a></li>*/}\r\n                        {/*<li><a href=\"#\">Pricing</a></li>*/}\r\n                        {/*<li><a href=\"#\">Blog</a></li>*/}\r\n                        {/*<li><a href=\"#\">Contact</a></li>*/}\r\n\r\n                    </ul>\r\n                </nav>\r\n\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/backgroud.70f8b048.jpg\";","import React from \"react\";\r\nimport backgroundImage from '../../assets/img/backgroud.jpg';\r\nimport './header.component.css';\r\n\r\nexport function Jumbotron() {\r\n    return (\r\n        <section className=\"header\">\r\n            <div className=\"container\">\r\n                <img src={backgroundImage} alt=\"Learning Community\"/>\r\n                <div className=\"slogan d-none d-md-block\">\r\n                    <h1>Let's go</h1>\r\n                    <p>Be part of a community that learns and shares its knowledge.</p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {MainSection} from \"../main-section/main-section.component\";\r\nimport {Nav} from \"../nav/nav.component\";\r\nimport {HomeProvider} from \"../../context/home.context\";\r\nimport {Jumbotron} from \"../header/jumbotron.component\";\r\n\r\nexport function Home() {\r\n    return (\r\n        <HomeProvider>\r\n            <Nav title=\"Learning Community\"/>\r\n            <Jumbotron/>\r\n            <MainSection/>\r\n        </HomeProvider>\r\n    )\r\n}\r\n","import {COURSES_TYPES} from \"../actions/courses.action\";\r\nimport {setStorage} from \"../../share/utils\";\r\n\r\nconst initialState = Array(4).fill({\r\n    name: 'loading',\r\n    nodeId: '',\r\n    type: 1,\r\n    children: [],\r\n    accountId: 0,\r\n    courseInfo: {description: 'loading'}\r\n});\r\n\r\nexport function courses(state = initialState, action) {\r\n    switch (action.type) {\r\n        case COURSES_TYPES.LOAD:\r\n            setStorage('courses', action.payload);\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const selectCourse = id => state => state?.courses?.find(c => c.nodeId === id);\r\n","import React from 'react';\r\nimport './spinner.component.css';\r\n\r\nexport function Spinner({active}) {\r\n    return <div className={`loader ${active ? '' : 'd-none'}`}>Loading...</div>\r\n}\r\n","export default __webpack_public_path__ + \"static/media/play-circle-solid.658d5ba8.svg\";","import React from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport './accprdion-item-course.component.css';\r\nimport {v4 as uuid} from 'uuid';\r\nimport play from '../../assets/img/play-circle-solid.svg';\r\nimport {useQuery} from \"../../share/utils\";\r\n\r\nexport function AccordionItemCourse({expanded, id, idAccordion, title, loading, children = [], pathCourse, setActive}) {\r\n    const history = useHistory();\r\n    const query = useQuery();\r\n\r\n    const sanitizeName = name => name?.split('.').slice(1, -1).join('.');\r\n    const isLessonActive = nodeId => query.get('a')?.split('/').slice(-1).join() === nodeId;\r\n\r\n    function handleActive(nodeId) {\r\n        const active = `${pathCourse}/${nodeId}`;\r\n        history.push(`/lesson?a=${active}`);\r\n        setActive(active);\r\n    }\r\n\r\n    return (\r\n        <div className={`accordion-item ${loading ? 'loading' : ''}`}>\r\n            <h2 className=\"accordion-header\" id={`heading${id}`}>\r\n                <button className={`accordion-button ${expanded ? '' : 'collapsed'}`} type=\"button\"\r\n                        data-bs-toggle=\"collapse\"\r\n                        data-bs-target={`#collapse${id}`} aria-expanded={expanded}\r\n                        aria-controls={`collapse${id}`}>\r\n                    {title}\r\n                </button>\r\n            </h2>\r\n            <div id={`collapse${id}`} className={`accordion-collapse collapse ${expanded ? 'show' : ''}`}\r\n                 aria-labelledby={`heading${id}`} data-bs-parent={`#${idAccordion}`}>\r\n                <div className=\"accordion-body\">\r\n                    <ul>\r\n                        {\r\n                            children.map(c =>\r\n                                <li key={uuid()}>\r\n                                    <div>\r\n                                        <img src={play} alt=\"play\"/>\r\n                                        <span\r\n                                            onClick={() => handleActive(c.nodeId)}\r\n                                            className={`${isLessonActive(c.nodeId) ? 'active' : ''}`}\r\n                                        >{sanitizeName(c.name)}</span>\r\n                                    </div>\r\n                                </li>\r\n                            )\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport {childrenSorted, getStorage, http, useQuery} from \"../../share/utils\";\r\nimport './lesson.component.css';\r\nimport {useSelector} from \"react-redux\";\r\nimport {selectCourse} from \"../../store/reducers/courses.reducer\";\r\nimport {Nav} from \"../nav/nav.component\";\r\nimport {Spinner} from \"../spinner/spinner.component\";\r\nimport {AccordionItemCourse} from \"../course-content/accordion-item-course.component\";\r\nimport {v4 as uuid} from 'uuid';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport function Lesson() {\r\n    const query = useQuery();\r\n    const [active, setActive] = useState(query.get('a'));\r\n    const nodeId = active?.split('/')[1];\r\n    const [video, setVideo] = useState('');\r\n    const course = useSelector(selectCourse(nodeId));\r\n    const [loading, setLoading] = useState(true);\r\n    const contentLoading = Array(3).fill({\r\n        name: 'loading',\r\n        children: Array(3).fill({\r\n            name: 'loading'\r\n        })\r\n    });\r\n    const currentCourseSession = active?.split('/').slice(-2, -1).join();\r\n\r\n    useEffect(() => {\r\n        if (!active) return;\r\n\r\n        async function getVideo() {\r\n            try {\r\n                const fetch = await http(`courses/embed?path=${active}`);\r\n                const {response, error} = await fetch.json();\r\n                if (error) {\r\n                    setActive(null);\r\n                } else {\r\n                    setVideo(response);\r\n                }\r\n            } catch (e) {\r\n                setActive(null);\r\n            }\r\n        }\r\n\r\n        setLoading(true);\r\n        window.scrollTo(0, 0);\r\n        getVideo();\r\n    }, [active]);\r\n\r\n    if (!active) return <Redirect to=\"/\"/>;\r\n\r\n    const getNodePath = nodeId => active.slice().split('/').slice(0, -2).concat(nodeId).join('/');\r\n\r\n    return (\r\n        <>\r\n            <Nav subtitle={course ? course.name : null}/>\r\n            <section>\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-8 video-content\">\r\n                        {\r\n                            video ?\r\n                                <iframe\r\n                                    allowFullScreen\r\n                                    frameBorder=\"0\"\r\n                                    style={{width: '100%', height: '100%', opacity: loading ? 0 : 1}}\r\n                                    src={video} title={nodeId}\r\n                                    onLoad={() => setLoading(false)}\r\n                                />\r\n                                : null\r\n                        }\r\n                        <div className=\"spinner-container\">\r\n                            <Spinner active={loading}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section>\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-8 m-auto\">\r\n                        <div className=\"container\">\r\n                            <div className=\"accordion\" id=\"accordionCourse\">\r\n                                {\r\n                                    course && Array.isArray(course.children) ?\r\n                                        childrenSorted(course.children).map(c =>\r\n                                            <AccordionItemCourse key={uuid()}\r\n                                                                 id={uuid()}\r\n                                                                 expanded={c.nodeId === currentCourseSession}\r\n                                                                 idAccordion=\"accordionCourse\"\r\n                                                                 title={c.name}\r\n                                                                 children={c.children}\r\n                                                                 pathCourse={getNodePath(c.nodeId)}\r\n                                                                 setActive={setActive}\r\n                                            />)\r\n                                        : contentLoading.map((c, i) =>\r\n                                            <AccordionItemCourse key={uuid()}\r\n                                                                 id={uuid()}\r\n                                                                 expanded={i === 0}\r\n                                                                 idAccordion=\"accordionCourse\"\r\n                                                                 title={c.name}\r\n                                                                 loading={true}\r\n                                            />)\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/219px-Definition_of_Free_Cultural_Works_logo_notext.svg.0a9f9783.png\";","import React from 'react';\r\nimport './footer.component.css';\r\nimport openCulture from '../../assets/img/219px-Definition_of_Free_Cultural_Works_logo_notext.svg.png';\r\n\r\nexport function Footer() {\r\n    return (\r\n        <footer id=\"footer\">\r\n            <div className=\"container\">\r\n                <div className=\"copyright\">\r\n                    <img src={openCulture}/>\r\n                    <div className=\"slogan\">\r\n                        <strong><span>Learning Community</span></strong>\r\n                        Free Content, Open Knowledge\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n","import React, {useEffect} from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport './assets/css/style.css';\nimport './App.css';\nimport {BrowserRouter as Router, Redirect, Route, Switch} from 'react-router-dom';\nimport {Home} from './components/home/home.component';\nimport {Lesson} from \"./components/lesson/lesson.component\";\nimport {Footer} from \"./components/footer/footer.component\";\nimport {config} from \"./config\";\nimport {getStorage} from \"./share/utils\";\nimport {useDispatch} from \"react-redux\";\nimport {loadCourses} from \"./store/actions/courses.action\";\n\nexport default function App() {\n    console.log(config);\n    const dispatch = useDispatch();\n    const coursesCache = getStorage('courses');\n\n    useEffect(() => {\n        if (coursesCache) dispatch(loadCourses(coursesCache));\n    }, []);\n\n    return (\n        <>\n            <Router basename=\"learning-community\">\n                <Switch>\n                    <Route exact path=\"/\" component={Home}/>\n                    <Route exact path=\"/lesson\" component={Lesson}/>\n\n                    <Route>\n                        <Redirect to=\"/\"/>\n                    </Route>\n                </Switch>\n            </Router>\n            <Footer/>\n        </>\n    );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {combineReducers} from \"redux\";\r\nimport {courses} from \"./courses.reducer\";\r\n\r\n\r\nexport const reducers = combineReducers({\r\n    courses\r\n});\r\n","import {applyMiddleware, compose, createStore} from \"redux\";\r\nimport thunk from 'redux-thunk';\r\nimport {reducers} from './reducers';\r\n\r\n\r\nexport const store = createStore(\r\n    reducers,\r\n    compose(\r\n        applyMiddleware(thunk),\r\n        typeof window === 'object' && typeof window.__REDUX_DEVTOOLS_EXTENSION__ !== 'undefined'\r\n            ? window.__REDUX_DEVTOOLS_EXTENSION__()\r\n            : f => f\r\n    )\r\n);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport {store} from './store';\n\nReactDOM.render(\n    <Provider store={store}>\n        <React.StrictMode>\n            <App/>\n        </React.StrictMode>\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}